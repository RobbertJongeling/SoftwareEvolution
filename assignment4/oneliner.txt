SELECT projects.id, projects.name, users.login FROM projects INNER JOIN users ON projects.owner_id=users.id WHERE ((projects.forked_from IS NULL) AND (projects.deleted=0) AND (projects.language = 'Ruby' OR projects.language = 'Java' OR projects.language = 'Python') AND (TIMESTAMPDIFF(year, DATE_FORMAT(projects.created_at,'%Y-%m-%d'), '2014-01-02') >= 1) AND ((SELECT COUNT(commit_id) FROM project_commits WHERE project_id=projects.id) >= 1) AND ((SELECT COUNT(head_repo_id) FROM pull_requests WHERE head_repo_id=projects.id) >= 1) AND ((SELECT COUNT(distinct(author_id)) FROM commits WHERE project_id = projects.id) >= 10) AND (SELECT (SELECT COUNT(id) FROM commits WHERE project_id = projects.id AND TIMESTAMPDIFF(month, DATE_FORMAT(commits.created_at,'%Y-%m-%d'), '2014-01-02') <= 1) + (SELECT COUNT(head_repo_id) FROM pull_requests, pull_request_history WHERE head_repo_id=projects.id AND pull_requests.id=pull_request_history.pull_request_id AND TIMESTAMPDIFF(month, DATE_FORMAT(pull_request_history.created_at,'%Y-%m-%d'), '2014-01-02') <= 1) >= 10)) LIMIT 0,20

