--get nr of contributors per repo
select count(user_id) from project_members where repo_id in (8,34) GROUP BY repo_id order by repo_id asc
	
--get nr pull requests per project
select base_repo_id, count(id) from pull_requests where base_repo_id in (8,34) group by base_repo_id order by base_repo_id asc

--get nr commits and age in months per project
select TIMESTAMPDIFF(month, DATE_FORMAT(commits.created_at,'%Y-%m-%d'), '2014-03-06') as commit_age_in_months, count(commits.id) from commits, project_commits where 
    project_commits.project_id in (8,34) and 
    project_commits.commit_id=commits.id and 
    commits.project_id=project_commits.project_id 
    group by project_commits.project_id order by project_commits.project_id asc
	
select count(commits.id) from commits, project_commits where 
    project_commits.project_id in (8,34) and 
    project_commits.commit_id=commits.id and 
    commits.project_id=project_commits.project_id and 
	TIMESTAMPDIFF(month, DATE_FORMAT(commits.created_at,'%Y-%m-%d'), '2014-03-06') <= 1 and
	TIMESTAMPDIFF(month, DATE_FORMAT(commits.created_at,'%Y-%m-%d'), '2014-03-06') >= 0
    group by project_commits.project_id order by project_commits.project_id asc
	
--get nr pull requests and age in month per project (testing)
select TIMESTAMPDIFF(month, DATE_FORMAT(created_at,'%Y-%m-%d'), '2014-03-06') as pull_req_age_in_months, 
 count(pull_request_history.id) from pull_request_history, pull_requests where 
    pull_request_history.action='opened' and 
    pull_request_id in (select id from pull_requests where base_repo_id in (8,34)) group by base_repo_id order by base_repo_id asc