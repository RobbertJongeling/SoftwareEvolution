\documentclass[a4paper,twoside, twocolumn,11pt]{article}
\usepackage{a4wide,graphicx,subfigure,fancyhdr,amsmath,amssymb,enumerate,hyperref, float,appendix}
\usepackage[english]{babel}
\numberwithin{equation}{section}

%----------------------- Macros and Definitions --------------------------

\setlength\headheight{20pt}
\addtolength\topmargin{-10pt}
\addtolength\footskip{20pt}

\setlength{\parskip}{4pt}
\setlength{\columnsep}{20pt}

\newcommand{\N}{\mathbb{N}}
\newcommand{\ch}{\mathcal{CH}}

\newcommand{\solution}[1]{\noindent{\bf  #1)}}

\fancypagestyle{plain}{%
\fancyhf{}
\fancyhead[LO,RE]{\sffamily\bfseries\large}
\fancyhead[RO,LE]{\sffamily\bfseries\large }
\fancyfoot[LO,RE]{\sffamily\bfseries\large }
\fancyfoot[RO,LE]{\sffamily\bfseries\thepage}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
}

\pagestyle{fancy}
\fancyhf{}
\fancyhead[RO,LE]{\sffamily\bfseries\large Assignment 1 2IS55}
\fancyhead[LO,RE]{\sffamily\bfseries\large Requirements Evolution}
\fancyfoot[LO,RE]{\sffamily\bfseries\large }
\fancyfoot[RO,LE]{\sffamily\bfseries\thepage}
\renewcommand{\headrulewidth}{1pt}
\renewcommand{\footrulewidth}{0pt}


\newcounter{reqc}
\setcounter{reqc}{0}
\providecommand{\req}[1][req \arabic{reqc}]{
	\refstepcounter{reqc}%
	\label{#1}%
	\noindent\textbf{Req.\arabic{reqc}:}
}
%-------------------------------- Title ----------------------------------

\title{\vspace{-\baselineskip}\sffamily\bfseries Assignment 1 2IS55: Requirements Evolution}

\author{Jongeling, R.M. - 0747896 - {\tt r.m.jongeling@student.tue.nl}}

\date{\today}

%--------------------------------- Text ----------------------------------

\begin{document}

\maketitle

\section{Introduction}
This report contains an analysis of the requirements in the user requirements document for the VEMUS project \cite{VEMUS} with respect to their suitability for evolution. VEMUS is a project that tries to provide a digital environment for music education. 

The analysis consists of an assessment of the quality of individual requirements, a study of the dependencies between requirements, the analysis of the traceability graph resulting from the found dependencies and a study of the implications of the findings on the requirements evolution.

\section{Methodology}
In this section, we will discuss the methodologies used in the analysis process. The process is divided into four steps, the methodology for each step is described in a separate subsection.

\subsection{Quality of individual requirements}
We assess the quality of the individual requirements by a keyword-based approach. Meaning that we will search the requirements for indicators of features of ambiguity. If found, we will judge whether or not this indicator indicates ambiguity in that requirement. As the presence of an indicator of ambiguity is not a guarantee of the presence of ambiguity. As mentioned in the lecture, the word ``normal" when used in the context of ``normal use" will indicate ambiguity, but when used in the context of ``normal distribution", there is no ambiguity at all. 

We will check for the features vagueness, subjectivity and optionality. All the selected features belong to the property of non-ambiguity. We think it is interesting to investigate multiple features indicating one property in an attempt to get a total view of the problems with the requirements concerning that property. 

A requirement is considered vague if it contains one or more terms that do not have a unique meaning in the context of the system. Subjectivity is found when a requirement contains a personal opinion or feeling. Lastly, a requirement is considered optional if it contains a part (but not the entire requirement) that does not have to be implemented but the rest of the requirement does. A requirement that is optional in its entirety has a lower priority but is not problematic on itself. This changes when this requirement affects a lot of other requirements.

We use the words indicated in table 1 of the paper by Fabbrini et al. \cite{paper} for the keyword-based search. For the feature of vagueness, the keywords are: \textit{clear, easy, strong, good, bad, useful, significant, adequate} and \textit{recent}. Considering the feature of subjectivity, they are: \textit{similar(ly), having in mind, take into account} and \textit{ as \ldots as possible}. And finally, for the feature of optionality, they are: \textit{possibly, eventually, if possible, if needed, if appropriate} and \textit{if (it is the) case}.

It is likely that not all of the keywords are present in the requirements so we will check them all to get the highest number of results. After this initial check, we will scan all requirements individually for words indicating vagueness, subjectivity or optionality.

\subsection{Identification of dependencies}
We will try to manually identify the dependencies between all requirements. To identify these dependencies, we will first consider dependencies between features.  If there is a dependency between these features, we will check which requirements belonging to that feature are indicating that dependency. Next, we check for dependencies between requirements within features or parts of the system.%//TODO meer?

\subsection{Traceability graph analysis}\label{2.3}
From the found dependencies, we will create a traceability graph, where the requirements are the nodes and dependency relations are the arcs. We will then investigate the structure of this graph in order to find peculiar nodes (and thus requirements). We will look for several features in the graph indicating strange behavior of the dependencies. This because we are interested in the structure of the document to find flaws in it so we can resolve these in the early stages of development in stead of wasting a lot of money on fixing them when discovering them later. 

Requirements that are isolated, i.e. have no incoming nor outgoing edges may indicate an obsolete requirement. The presence of subgraphs that are unconnected to the rest of the graph may indicate really well separable functionality, or maybe unused functionality. Requirements that depend on a lot of other requirements will probably be unstable. Whereas requirements that affect a lot of others should be very stable. 

\subsection{Implications on requirements evolution}
In this step of the analysis process, we combine the results of the graph structure analysis and the quality considerations to assess what their implications are on requirements evolution. As mentioned in the lecture, bad or volatile requirements make evolution difficult.

\section{Case study}
In this case study we will study the user requirements document of VEMUS \cite{VEMUS}, a digital environment providing music education. Specifically, we review the requirements as stated in pages 82-83 of the document. For ease of reference to specific requirements, we enumerate them in appendix \ref{reqs}. We use the standard document search method to, one by one, search for the different keywords. Some keywords have to be altered in order to consider or abstract from multiple possible conjugations. When looking for the indicator ``take into account", we search for ``account". When looking for ``having in mind", we search for ``mind". When looking for ``as \ldots\ as possible", we only search for the word ``possible". Similarly for the search of optionality, we searched for the following (sub)strings: ``possibl", ``eventual", ``need" and ``appropriate". 
Then, we scan through all requirements to find possibly missed ambiguous requirements.

We then start identifying dependencies between the requirements. Already in the requirements document \cite{VEMUS} there is a grouping of requirements per feature or part of the system. This grouping is adopted in the subsections of appendix \ref{reqs}.
Next, we consider the requirements per feature and check dependencies between them. By checking the requirements in this way, we attempt to maximize the number of found dependencies that exist between the requirements.

Next, we build a dependency graph using the tool \textit{GraphViz}. By creating a node for each requirement and defining an arc from node $a$ to node $b$ for each dependency of the form $a$ affects $b$ (or $b$ depends on $a$). In this way, we can follow the arrows to see which requirements need to be changed when changing one. 

We then analyze the resulting graph based on the general concerns raised in the section on traceability graph analysis. \ref{2.3}

Finally, we combine the results of identifying bad requirements and volatile requirements to discuss the suitability of the document for evolution. 


\section{Results and discussion}
%//TODO  threats to validity
In this section we will present the results obtained from the analysis of the user requirements document of VEMUS \cite{VEMUS}.

\subsection{Quality of individual requirements}
\subsubsection{keyword-based search}
First, we present the results of the keyword based approach. These are, per investigated feature of non-ambiguity, the requirements that have been found. We discuss per requirement whether the presence of the indicator is a reason for concern about the requirement with respect to ambiguity.
\paragraph{Vagueness} 
Req \ref{48}. ``The system need not only to diagnose a bad attack \ldots." \\
The presence of the indicator "bad" is not problematic here as there is a notion of a bad attack in the context of playing a musical instrument.

Req \ref{43}. ``\ldots an option of viewing the pitch only or the duration only would be useful."\\  In this case ``useful" indicates a priority of the requirement rather than vagueness with respect to e.g. usability; it would be useful to have an option of viewing the pitch only or the duration only. So this is not a problem of ambiguity.

Req \ref{9}. ``\ldots concept has been considered to be useful for \ldots."\\
The word ``useful"  here indicates not vagueness per se, but optionality. It is not clear whether this requirement should be implemented or not.

Req \ref{36}. ``After adequate practice \ldots "\\
 In this case, the use of the word ``adequate'' indicates an ambiguity. It is not clear after how many uses constitutes this ``adequate practice''.

\paragraph{Subjectivity}
Req \ref{34}. ``\ldots A practicing plan would be a collection of order steps that could have similar form: Step $x$: Practice on $<$range in song$>$ focusing on $<$aspect(s)$>$ until $<$condition$>$."\\ 
In this case, the word ``similar'' is used in an implementation suggestion. Also, the similarity is explicitly defined so there is no subjectivity problem here.

\paragraph{Optionality}
Req. \ref{57}. ``\ldots, the organisation of the content according to the VEMUS Music School House seems to be an appropriate way to organise VEMUS content." \\
Use of the word ``Appropriate" does not indicate optionality in this case but rather value; it is an appropriate way of doing things.

When searching for the construct ``if needed", we search for the substring ``need". This yields numerous results but it is never indicative of an optional requirement. Mostly, it is used to stress the need for a feature.

\subsubsection{Manual inspection}
Now, we manually check each requirement in order to detect vagueness, subjectivity or optionality.

\paragraph{Vagueness} 
Req \ref{14}. A ``small number of errors" is not quantifiable.\\
Req \ref{17}. Similarly, a ``large number of mistakes" is also not quantifiable.\\
Req \ref{26}. ``Regularly" is a vague notion. Once every 1000 years is also regular, but from the context, it seems they want updates more often that that.\\
Req \ref{40}. This requirement is vague in its entirety. A simple, intuitive visualization is not measurable. Also, ``using not many colors" is vague.

\paragraph{Subjectivity}
Req \ref{37} is an indicator of how subjectivity is used throughout the requirements. The subjectivity does not come from the author of the requirements but from the prospective end-users of the system. As mentioned in the user requirements document: ``Data collection for the user requirements took place during workshops and interviews. (\ldots) In cases where it was considered important for the consortium to have additional input web surveys were used in order to collect more data." \cite{VEMUS}. Constructs often encountered in the requirements such as ``It is needed" , ``It is important that" or ``Teachers/the system should be able to" are traceable to the interviewed experts. Therefore it is not a problem of subjectivity.

\paragraph{Optionality}
\ref{45}. ``\ldots Maybe \ldots would be better to \ldots." The word ``maybe" here indicates the optionality of this part of the requirement.

\subsection{Dependencies}
We present the result of the dependency analysis in the traceability graph in figure \ref{fig:graph}. Here, the nodes correspond to the numbered requirements in appendix \ref{reqs} and the arcs from a node $a$ to a node $b$ correspond to a dependency $a$ affects $b$ (or $b$ depends on $a$). In appendix \ref{graphapp} we include a larger version of the graph.

\begin{figure}
\center
\includegraphics[scale=0.21]{graph1.pdf}
\caption{Traceability graph of requirements of VEMUS \cite{VEMUS}. Nodes correspond to requirements in \ref{reqs}. Arcs correspond to dependencies.}
\label{fig:graph}
\end{figure}

We see that the requirements 13,20,21 and 35 are isolated. When inspecting these requirements, we see that requirements 13, 20 and 21 are general statements about the use of the system. 
Requirement 35 states functionality that is not explicitly used by any other requirement. This may prove to be problematic as it does seem to be an important feature of the system but is not mentioned explicitly in other requirements.

Furthermore we see that a lot of requirements are affected (directly and indirectly) by requirements 22 and 23. This is not surprising as these two requirements entail the general purpose of the system; it should provide support for self guided learning and it should allow for automatic performance evaluation.

We see a few pairs of requirements depending on each other. In two cases, this is because it is the same requirement, this concerns the pairs 26,58 and 3,16. In the other cases, it concerns requirements that are closely related. We see one small loop in the graph, between requirements 56,57 and 58. This concerns requirements about the organization and arrangement of the content. Which needs to adhere to these three requirements. This is a bit of a strange part as especially requirements 56 and 57 seem to contradict each other. This may be a problem already and also when requirements evolve.

The global functionality partition as created in the requirements document can still be seen a bit in the graph. For example, the ``VEMUS Visualizations'' part is clearly separated from other requirements with only few relations to other parts of the system. The parts about teacher-student feedback and providing feedback however are a lot more intertwined. Which stresses the idea that both parts are about the same feature, namely the automatic performance evaluation.

\subsection{Implications on requirements evolution}
In the search of ambiguous requirements, we found requirements 14,17,26,36,40 and 45 to be ambiguous in one way or another. We could have also mentioned requirement 58 but as said before, 26 and 58 are the same requirement. In the graph we see that 58 is part of the cycle 56,57 and 58 of which we already noted that this is a strange construct and so a point of attention concerning requirements evolution.

Requirements 17 and 36 do not affect other requirements so although one would rather have zero ambiguous requirements, it is not the end of the world that these are a bit ambiguous. As no other requirements will be affected when these are changed. 

This is completely different in the case of requirement 40. We see in the graph that requirement 40 affects almost all requirements in the ``VEMUS Visualizations'' part. The requirement states that: ``The VEMUS visualizations should be simple, intuitive, not using many colors.'' With respect to requirements evolution. It will be important to design a more precise definition of this requirement. 

We would recommend to define rules which each visualization must comply with. This will resolve this ambiguity and make the overall system more capable of coping with evolution of the requirements.

\subsection{Threats to validity}
In case of the assessment of ambiguous requirements, we may have had some false negatives, i.e. we may have missed some requirements that are ambiguous but we did not mention.

 We see that already with a relatively small amount of requirements, manual assessment of especially dependencies is becoming infeasible. In identifying dependencies between requirements, we also may have missed some present dependencies and we may have wrongly identified some.

These mistakes could give rise to a different traceability graph and therefore could uncover a problem not yet spotted or could invalidate a problem found now. 


\begin{thebibliography}{9}
\bibitem{VEMUS}
VEMUS consortium. \emph{Virtual Music School User Requirements Document}.
April 2007.

\bibitem{paper}
F. Fabbrini, M. Fusani, S. Gnesi, G. Lami. \emph{The Linguistic Approach to the Natural Language Requirements Quality: Benefits of the use of an Automatic Tool.} 26th Annual IEEE Computer Society - NASA Goddard Space Flight Center Software Engineering Workshop, Greenbelt, MA, USA 27-29 November, 2001.
\end{thebibliography}

\onecolumn
\pagestyle{empty} %//TODO empty pagestyle or similar to rest of report?
\begin{appendices}
\section{Requirements}\label{reqs}
In this appendix, we enumerate the requirements from pages 82-83 of the VEMUS user requirements document \cite{VEMUS}. In creating subsections, we adhere to the structure as provided in the original document, where this way of organizing is used.

\subsection{Teacher-student feedback}
	\req{Students need to be praised and reproached according their level and their goals. They must have a choice about how strict or lenient the system's feedback is.}\\
	\req{Students must not be interrupted during the performance}\\
	\req{The system should be able to provide feedback even to an unfinished performance}\\
	\req{There must be annotations on students score with remarks or to outline some sections of the score because of frequent errors or due to some complexity, while they play or after they have finished their performance.}\\
	\req{Teachers must have access to a pool of different icons to be used for annotations and also to be able to design their own icons for instrument-specific purposes. Additionally the idea of audio annotations was considered of great pedagogical value.}\\
	
\subsection{Accompanying music}
	\req{Accompanying music, either as playing together or playing in turns, is considered important in music learning for many reasons: it helps the students keep up with the rhythm, it increases the motivation, interest and encouragement, it fosters the ability to continue playing despite difficulties to complete a performance to the end.}\\
	\req{The student should be able to start the accompaniment from any position in the score}\\
	\req{There is no need for adaptive accompaniment from a pedagogical view but tempo should be adjustable (The system would better guide the student in keeping the tempo)}\\
	\req[9]{The "Play after me" concept has been considered to be useful for dealing with complex errors (e.g. rhythm).}\\

\subsection{Providing Feedback}
	\req{The VEMUS performance evaluation should include the following elements: basic instrumental skills (attack, grisper fingering), basic musical skills (score reading, articulation, phrasing, score reading, rhythm, tempo) and in a more advanced level, skills on controlling the sound (intonation, squeaks, tone quality, air/finger)}\\
	\req{The system's performance feedback which should be consistent to what a real teacher would think about a performance.}\\
	\req{Teachers have to be able to adjust the criteria for evaluation making the feedback more "forgiving" for specific types of errors during a period, so the system should allow for an adaptable priority set by the teacher for each student ("Teacher's palette") including: A number of fixed settings related to age and personal settings for each student.}\\
	\req{Teachers have modelled a profiling mechanism for VEMUS System in order to adapt priority lists to each student's skill level and personal character: The VEMUS Music School House would have 4 - 5 floors. The students proceed through 4 - 5 skill levels during the period 9 - 14 (15) years, each level corresponding to a floor in the house. }\\
	\req[14]{Only a small number of errors should be selected and displayed, based on a prioritization (hierarchy) of the type of errors made.}\\
	\req{The system should detect plausible causes for every mistake}\\
	\req{The system has to provide assessment and feedback on incomplete performances}\\
	\req[17]{The system has to provide assessment and feedback for performances with a large number of mistakes}\\
	\req{Teachers agreed to retain the basics of the IMUTUS evaluation concept for displaying the results to the students. Still it is considered as a drawback that the performance evaluation is only provided in the form of a text in IMUTUS, without displaying the deficiencies by elements of musical notations}\\
	\req{The system should provide hints for remedying the mistakes to the learners}\\
	
\subsection{Distance learning music education in VEMUS}
	\req{There is a great need to access music resources in rural and remote areas}\\
	\req{There is great lack of teachers of wind instruments in rural areas}\\
	\req{The system should be able to provide support for self guided learning}\\
	\req{The system should allow for automatic performance evaluation}\\
	\req{The users need on-line support (synchronous or asyncronous)}\\
	\req{Teachers should be supported by the system to easily create learning resources and author learning objects to support distance learners}\\
	\req[26]{The educational content is expected to be updated and rearranged regularly}\\
	\req{There is a need for a content repository for wind instruments teaching allowing storing and retrieving not only melodies and music exercises but also text, images, and video to support the teaching.}\\

\subsection{Studying procedures}
	\req{The teacher should be allowed to choose the studying procedure}\\
	\req{The teacher should have the possibility to intervene to the way the student studies at home. He or she could define on which parameters the learner should emphasize and with what order he or she should deal with those parameters}\\
	\req{In the self-practice lesson plan multiple (at least three) aspects (e.g. pitch, articulation, tone quality) of evaluation and feedback should be included}\\
	\req{The teacher should be able to mark up parts of the score for the student to practice and specify which aspects of the student performance should be evaluated by the system}\\
	\req{In any lesson plan the teacher may identify for each music score difficulties and aspects that need special attention.}\\
	\req{The student should be able to practice the piece in steps (i.e. practice part A, then part B, then the whole piece) and get performance evaluation.}\\
	\req[34]{The teacher should be able to design and apply a practicing plan. A practicing plan would be a collection of order steps that could have similar form: Step $x$: Practice on $<$range in song$>$ focusing on $<$aspect(s)$>$ until $<$condition$>$.}\\
	\req{The system will need to keep a record of performances for future reference and for monitoring the pupil's progress and to generate a progress report based on a)the performance skills category, b) Student's recorded performance evaluation and c) Student's devoted time on task}\\
	\req[36]{After adequate practice the learner should be able to activate all the parameters simultaneously and receive feedback on all of them.}\\
	\req[37]{At the end of the studying procedure it is important for the student to join the parts of the piece together in order to have the feel of the whole piece.}\\
	\req{The system should provide the possibility to tuning to a single note (by means of a tuner tool).}\\
	\req{The system should include exercises of graded difficulty for tuning up.}\\
	
\subsection{VEMUS Visualizations}
	\req[40]{The VEMUS visualizations should be simple, intuitive, not using many colors}\\
	\req{The VEMUS visualizations should give a general feedback on students' performance and not a detailed one}\\
	\req{The VEMUS visualizations should have musical meaning and in a way be related to musical symbols}\\
	\req[43]{While designing visualizations of the pitch it is needed to have a representation for each note and an option of viewing the pitch only or the duration only would be useful}\\
	\req{While designing visualizations of the dynamics the line thickness is more relevant for expressing dynamics and a comprehensive graph (e.g. covering a phrase) outside the score is needed}\\
	\req[45]{While designing visualizations of the timbre using the shapes and saturation is more intuitive than using the sonograms and between color saturation and shapes, shapes are preferable as the proposed colors are not successful at all. The colors should be represented more accurately. Maybe the color range of grey would be better to avoid many confusing colors.}\\
	\req{While designing the Fingering Viewer a static 3D fingering viewer (which shifts fingering when clicking on a new note) is of value, provided that the position, appearance and shapes of the fingers are correct. The amplitude of movement should be realistic. A normal fingering table with open and filled circles is a necessary supplement. For the instruments with reed (clarinet, saxophone) and with mouthpiece (trumpet) images which make visible the right position of the lips (embouchure) should be included.}\\
	\req{Graphic representations of how to use the tongue or blowing in the instrument is necessary as it contributes to creating a correct attack.}\\
	\req[48]{The system need not only to diagnose a bad attack but also to illustrate graphically how to remedy such a mistake}\\
	\req{A diagram or a schema to show how a player could achieve a correct attack with the application of the tongue or by blowing more or less should be included.}\\
	\req{As sound production is of prime importance to wind instruments, a 3D representation that would support this need (illustrating airflow, attack, mouth position, et al) is required.}\\

\subsection{Educational Content}
	\req{Include to VEMUS content the basics of how sound is produced correctly in wind instruments and the possibility to visualize how different blows/or tongue positions affect the attack.}\\
	\req{There is a need for preparatory exercises for wind instruments, which are closely linked to a successful performance.}\\
	\req{Teachers should be allowed to choose educational content flexibly, depending on their background, taste and preferences.}\\
	\req{The available content should be consisted with the school-based work and to include examples from the world musical literature (known works).}\\
	\req{The system should also allow the scores' conversion to the known programs (Sibelius, Finale, Encore, Mozart) as well as to allow for "connections" of the whole displayed or audio music elements with the MIDI system.}\\
	\req{The content will be organised in lessons and chapters following a logical order of increased difficulty.}\\
	\req[57]{As it is widely accepted by music teachers that assigning exercises and melodies to students depends on the level of the student, the instrument, and the preferences of the student, the organisation of the content according to the VEMUS Music School House seems to be an appropriate way to organise VEMUS content.}\\
	\req{The educational content is expected to be updated and rearranged regularly}\\
	\req{There is a need for a content repository for wind instruments teaching allowing storing and retrieving not only melodies and music exercises but also text, images, and video to support the teaching.}\\
	\req{The teachers should be able to: insert new content; either content they produce themselves or content they acquire from other sources and re-arrange the content to meet their the requirements of their own classes or schools and/or to meet their own personal teaching preferences}
	
\section{Traceability graph}\label{graphapp}
Below, we present a larger version of the image in figure \ref{fig:graph}.
\begin{figure}
\center
\includegraphics[scale=0.45]{graph1.pdf}
\end{figure}
\end{appendices}



\end{document}
